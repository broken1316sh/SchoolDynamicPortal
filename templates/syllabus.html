{% extends 'base.html' %}

{% block title %}Syllabus - {{ settings.school_name }}{% endblock %}

{% block content %}
<!-- Page Header Start -->
<div class="container-fluid bg-primary py-5 mb-5">
    <div class="container py-5">
        <div class="row">
            <div class="col-12 text-center">
                <h1 class="text-white display-4 mt-5 mb-2">Syllabus</h1>
                <div class="d-inline-block text-white">
                    <p class="m-0"><a class="text-white" href="{{ url_for('index') }}">Home</a></p>
                    <p class="m-0 px-2">-</p>
                    <p class="m-0">Syllabus</p>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Page Header End -->

<!-- Syllabus Info Start -->
<div class="container py-5">
    <div class="text-center mb-5">
        <h6 class="text-primary text-uppercase section-title">Academic Curriculum</h6>
        <h2>Our Comprehensive Syllabus</h2>
        <p class="lead">Our curriculum is designed to provide a well-rounded education that prepares students for future success.</p>
    </div>
    
    <div class="row mb-5">
        <div class="col-lg-8 mx-auto">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                    <h4 class="card-title mb-4">Educational Philosophy</h4>
                    <p>At {{ settings.school_name }}, we follow a comprehensive, student-centered curriculum that aims to develop not just academic knowledge but also critical thinking, creativity, and character. Our syllabus is based on the guidelines provided by the Central Board of Secondary Education (CBSE) while incorporating innovative teaching methodologies and real-world applications.</p>
                    
                    <h5 class="mt-4">Key Features of Our Curriculum:</h5>
                    <ul>
                        <li><strong>Holistic Development:</strong> Focus on physical, intellectual, emotional, and social growth</li>
                        <li><strong>Activity-Based Learning:</strong> Hands-on activities to reinforce concepts</li>
                        <li><strong>Integration of Technology:</strong> Use of modern tools and resources in teaching</li>
                        <li><strong>Life Skills Education:</strong> Emphasis on developing essential life skills</li>
                        <li><strong>Value Education:</strong> Inculcation of moral values and ethics</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Syllabus Tabs -->
    <div class="row">
        <div class="col-12">
            <ul class="nav nav-tabs mb-4" id="syllabusTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="primary-tab" data-bs-toggle="tab" data-bs-target="#primary" type="button" role="tab">Primary (I-V)</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="middle-tab" data-bs-toggle="tab" data-bs-target="#middle" type="button" role="tab">Middle (VI-VIII)</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="secondary-tab" data-bs-toggle="tab" data-bs-target="#secondary" type="button" role="tab">Secondary (IX-X)</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="sr-secondary-tab" data-bs-toggle="tab" data-bs-target="#sr-secondary" type="button" role="tab">Sr. Secondary (XI-XII)</button>
                </li>
            </ul>
            
            <div class="tab-content" id="syllabusTabContent">
                <!-- Primary Classes Tab -->
                <div class="tab-pane fade show active" id="primary" role="tabpanel">
                    <div class="accordion" id="primaryAccordion">
                        {% set primary_syllabus = syllabus_list|selectattr('class_name', 'search', '^[I|V]|^1|^2|^3|^4|^5$')|list %}
                        {% if primary_syllabus %}
                            {% for item in primary_syllabus %}
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="primary-heading-{{ item.id }}">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#primary-collapse-{{ item.id }}">
                                            {{ item.class_name }} - {{ item.subject }}
                                        </button>
                                    </h2>
                                    <div id="primary-collapse-{{ item.id }}" class="accordion-collapse collapse" data-bs-parent="#primaryAccordion">
                                        <div class="accordion-body">
                                            <p>{{ item.description }}</p>
                                            {% if item.file_path %}
                                                <a href="{{ url_for('static', filename='uploads/' + item.file_path) }}" class="btn btn-sm btn-primary" target="_blank">
                                                    <i class="fas fa-download me-2"></i>Download Syllabus
                                                </a>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <div class="text-center py-4">
                                <p>No syllabus information available for primary classes.</p>
                            </div>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Middle Classes Tab -->
                <div class="tab-pane fade" id="middle" role="tabpanel">
                    <div class="accordion" id="middleAccordion">
                        {% set middle_syllabus = syllabus_list|selectattr('class_name', 'search', '^VI|^VII|^VIII|^6|^7|^8$')|list %}
                        {% if middle_syllabus %}
                            {% for item in middle_syllabus %}
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="middle-heading-{{ item.id }}">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#middle-collapse-{{ item.id }}">
                                            {{ item.class_name }} - {{ item.subject }}
                                        </button>
                                    </h2>
                                    <div id="middle-collapse-{{ item.id }}" class="accordion-collapse collapse" data-bs-parent="#middleAccordion">
                                        <div class="accordion-body">
                                            <p>{{ item.description }}</p>
                                            {% if item.file_path %}
                                                <a href="{{ url_for('static', filename='uploads/' + item.file_path) }}" class="btn btn-sm btn-primary" target="_blank">
                                                    <i class="fas fa-download me-2"></i>Download Syllabus
                                                </a>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <div class="text-center py-4">
                                <p>No syllabus information available for middle classes.</p>
                            </div>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Secondary Classes Tab -->
                <div class="tab-pane fade" id="secondary" role="tabpanel">
                    <div class="accordion" id="secondaryAccordion">
                        {% set secondary_syllabus = syllabus_list|selectattr('class_name', 'search', '^IX|^X|^9|^10$')|list %}
                        {% if secondary_syllabus %}
                            {% for item in secondary_syllabus %}
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="secondary-heading-{{ item.id }}">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#secondary-collapse-{{ item.id }}">
                                            {{ item.class_name }} - {{ item.subject }}
                                        </button>
                                    </h2>
                                    <div id="secondary-collapse-{{ item.id }}" class="accordion-collapse collapse" data-bs-parent="#secondaryAccordion">
                                        <div class="accordion-body">
                                            <p>{{ item.description }}</p>
                                            {% if item.file_path %}
                                                <a href="{{ url_for('static', filename='uploads/' + item.file_path) }}" class="btn btn-sm btn-primary" target="_blank">
                                                    <i class="fas fa-download me-2"></i>Download Syllabus
                                                </a>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <div class="text-center py-4">
                                <p>No syllabus information available for secondary classes.</p>
                            </div>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Sr. Secondary Classes Tab -->
                <div class="tab-pane fade" id="sr-secondary" role="tabpanel">
                    <div class="accordion" id="srSecondaryAccordion">
                        {% set sr_secondary_syllabus = syllabus_list|selectattr('class_name', 'search', '^XI|^XII|^11|^12$')|list %}
                        {% if sr_secondary_syllabus %}
                            {% for item in sr_secondary_syllabus %}
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sr-secondary-heading-{{ item.id }}">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sr-secondary-collapse-{{ item.id }}">
                                            {{ item.class_name }} - {{ item.subject }}
                                        </button>
                                    </h2>
                                    <div id="sr-secondary-collapse-{{ item.id }}" class="accordion-collapse collapse" data-bs-parent="#srSecondaryAccordion">
                                        <div class="accordion-body">
                                            <p>{{ item.description }}</p>
                                            {% if item.file_path %}
                                                <a href="{{ url_for('static', filename='uploads/' + item.file_path) }}" class="btn btn-sm btn-primary" target="_blank">
                                                    <i class="fas fa-download me-2"></i>Download Syllabus
                                                </a>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <div class="text-center py-4">
                                <p>No syllabus information available for senior secondary classes.</p>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Syllabus Info End -->

<!-- Academic Calendar Start -->
<div class="container-fluid py-5" style="background-color: var(--bs-light);">
    <div class="container">
        <div class="text-center mb-5">
            <h6 class="text-primary text-uppercase section-title">School Calendar</h6>
            <h2>Academic Calendar 2025-26</h2>
        </div>
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-4">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead class="table-light">
                                    <tr>
                                        <th>Event</th>
                                        <th>Date</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Academic Year Begins</td>
                                        <td>April 1, 2025</td>
                                        <td>First day of classes for all students</td>
                                    </tr>
                                    <tr>
                                        <td>Summer Break</td>
                                        <td>May 15 - June 30, 2025</td>
                                        <td>School closed for summer vacation</td>
                                    </tr>
                                    <tr>
                                        <td>First Term Exams</td>
                                        <td>September 10-20, 2025</td>
                                        <td>First term assessments for all classes</td>
                                    </tr>
                                    <tr>
                                        <td>Diwali Break</td>
                                        <td>October 20-30, 2025</td>
                                        <td>School closed for Diwali festival</td>
                                    </tr>
                                    <tr>
                                        <td>Annual Sports Day</td>
                                        <td>December 5, 2025</td>
                                        <td>Annual sports and games competition</td>
                                    </tr>
                                    <tr>
                                        <td>Winter Break</td>
                                        <td>December 25, 2025 - January 5, 2026</td>
                                        <td>School closed for winter vacation</td>
                                    </tr>
                                    <tr>
                                        <td>Annual Function</td>
                                        <td>January 26, 2026</td>
                                        <td>Republic Day celebration and cultural program</td>
                                    </tr>
                                    <tr>
                                        <td>Final Exams</td>
                                        <td>March 1-15, 2026</td>
                                        <td>Annual examinations for all classes</td>
                                    </tr>
                                    <tr>
                                        <td>Results Declaration</td>
                                        <td>March 25, 2026</td>
                                        <td>Result announcement and report card distribution</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="text-center mt-4">
                            <a href="#" class="btn btn-primary">Download Complete Calendar</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Academic Calendar End -->
{% endblock %}