{% extends 'base.html' %}

{% block title %}Home - {{ settings.school_name if settings else 'Shree Gyan Bharti High School' }}{% endblock %}

{% block inline_css %}
/* Hero Section */
.hero-section {
    position: relative;
    background-image: linear-gradient(rgba(12, 45, 87, 0.8), rgba(12, 45, 87, 0.8)), url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80');
    background-size: cover;
    background-position: center;
    color: white;
    padding: 80px 20px;
    text-align: center;
}

.hero-section h1 {
    font-size: 2.5rem;
    margin-bottom: 20px;
}

.hero-section p {
    font-size: 1.2rem;
    max-width: 700px;
    margin: 0 auto 30px;
}

.hero-btn {
    display: inline-block;
    padding: 12px 30px;
    background-color: white;
    color: #0c2d57;
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
    transition: all 0.3s;
}

.hero-btn:hover {
    background-color: #f1f1f1;
    transform: translateY(-2px);
}

/* Features Section */
.features {
    padding: 60px 20px;
    text-align: center;
}

.features h2 {
    color: #0c2d57;
    margin-bottom: 40px;
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
}

.feature-item {
    background: white;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    padding: 30px 20px;
    transition: transform 0.3s;
}

.feature-item:hover {
    transform: translateY(-5px);
}

.feature-icon {
    font-size: 2.5rem;
    color: #0c2d57;
    margin-bottom: 20px;
}

.feature-item h3 {
    margin-bottom: 15px;
    color: #0c2d57;
}

/* News Section */
.news-section {
    background-color: #f1f5f9;
    padding: 60px 20px;
}

.news-section h2 {
    text-align: center;
    color: #0c2d57;
    margin-bottom: 40px;
}

.news-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
}

.news-card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    overflow: hidden;
}

.news-img {
    width: 100%;
    height: 180px;
    object-fit: cover;
}

.news-content {
    padding: 20px;
}

.news-date {
    color: #666;
    font-size: 0.9rem;
    margin-bottom: 10px;
}

.news-title {
    color: #0c2d57;
    margin-bottom: 10px;
}

.news-excerpt {
    margin-bottom: 15px;
}

.news-link {
    color: #0c2d57;
    text-decoration: none;
    font-weight: bold;
}

.view-all {
    display: block;
    text-align: center;
    margin-top: 30px;
}

.view-all a {
    display: inline-block;
    padding: 10px 25px;
    background-color: #0c2d57;
    color: white;
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
    transition: background-color 0.3s;
}

.view-all a:hover {
    background-color: #081d3a;
}

/* Events Section */
.events-section {
    padding: 60px 20px;
}

.events-section h2 {
    text-align: center;
    color: #0c2d57;
    margin-bottom: 40px;
}

.events-list {
    max-width: 800px;
    margin: 0 auto;
}

.event-item {
    display: flex;
    align-items: center;
    background: white;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    margin-bottom: 20px;
    overflow: hidden;
}

.event-date {
    background-color: #0c2d57;
    color: white;
    padding: 15px;
    min-width: 100px;
    text-align: center;
    font-weight: bold;
}

.event-date .day {
    font-size: 1.8rem;
    line-height: 1;
}

.event-date .month {
    font-size: 1rem;
}

.event-info {
    padding: 20px;
    flex-grow: 1;
}

.event-info h3 {
    color: #0c2d57;
    margin-bottom: 5px;
}

.event-location {
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    color: #666;
}

.event-location i {
    margin-right: 5px;
}
{% endblock %}

{% block content %}
<section class="hero-section">
    <h1>Welcome to {{ settings.school_name if settings else 'Shree Gyan Bharti High School' }}</h1>
    <p>Empowering young minds with knowledge, values, and a vision for a brighter future. Join us on a journey of academic excellence and holistic development.</p>
    <a href="#" class="hero-btn">Learn More</a>
</section>

<section class="features">
    <h2>Why Choose Our School?</h2>
    <div class="features-grid">
        <div class="feature-item">
            <div class="feature-icon">
                <i class="fas fa-graduation-cap"></i>
            </div>
            <h3>Academic Excellence</h3>
            <p>Our dedicated faculty ensures that students achieve their full academic potential through personalized attention and innovative teaching methods.</p>
        </div>
        
        <div class="feature-item">
            <div class="feature-icon">
                <i class="fas fa-microscope"></i>
            </div>
            <h3>Modern Facilities</h3>
            <p>State-of-the-art classrooms, laboratories, and sports facilities create an environment conducive to holistic learning and development.</p>
        </div>
        
        <div class="feature-item">
            <div class="feature-icon">
                <i class="fas fa-users"></i>
            </div>
            <h3>Character Building</h3>
            <p>We emphasize values, ethics, and character development alongside academic curriculum to shape responsible citizens of tomorrow.</p>
        </div>
    </div>
</section>

<section class="news-section">
    <h2>Latest News</h2>
    
    <div class="news-grid">
        {% if news_items %}
            {% for news in news_items %}
            <div class="news-card">
                {% if news.image_path %}
                <img src="{{ url_for('static', filename='uploads/' + news.image_path) }}" alt="{{ news.title }}" class="news-img">
                {% else %}
                <img src="https://images.unsplash.com/photo-1516979187457-637abb4f9353?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=60" alt="{{ news.title }}" class="news-img">
                {% endif %}
                <div class="news-content">
                    <div class="news-date">{{ news.date.strftime('%B %d, %Y') }}</div>
                    <h3 class="news-title">{{ news.title }}</h3>
                    <p class="news-excerpt">{{ news.content|striptags|truncate(100) }}</p>
                    <a href="{{ url_for('news_detail', news_id=news.id) }}" class="news-link">Read More →</a>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="news-card">
                <img src="https://images.unsplash.com/photo-1516979187457-637abb4f9353?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=60" alt="School News" class="news-img">
                <div class="news-content">
                    <div class="news-date">May 15, 2025</div>
                    <h3 class="news-title">Annual Science Exhibition</h3>
                    <p class="news-excerpt">Students displayed their innovative science projects at our annual exhibition, impressing judges and visitors alike.</p>
                    <a href="#" class="news-link">Read More →</a>
                </div>
            </div>
            
            <div class="news-card">
                <img src="https://images.unsplash.com/photo-1520466809213-7b9a56adcd45?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=60" alt="School News" class="news-img">
                <div class="news-content">
                    <div class="news-date">May 10, 2025</div>
                    <h3 class="news-title">Sports Day Celebration</h3>
                    <p class="news-excerpt">Our annual sports day was a grand success with enthusiastic participation from students across all grades.</p>
                    <a href="#" class="news-link">Read More →</a>
                </div>
            </div>
            
            <div class="news-card">
                <img src="https://images.unsplash.com/photo-1568792923760-d70635a89fdd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=60" alt="School News" class="news-img">
                <div class="news-content">
                    <div class="news-date">May 5, 2025</div>
                    <h3 class="news-title">Cultural Fest 2025</h3>
                    <p class="news-excerpt">Students showcased their talents through music, dance, drama, and art at our vibrant cultural festival.</p>
                    <a href="#" class="news-link">Read More →</a>
                </div>
            </div>
        {% endif %}
    </div>
    
    <div class="view-all">
        <a href="{{ url_for('news') }}">View All News</a>
    </div>
</section>

<section class="events-section">
    <h2>Upcoming Events</h2>
    
    <div class="events-list">
        {% if events %}
            {% for event in events %}
            <div class="event-item">
                <div class="event-date">
                    <div class="day">{{ event.date.strftime('%d') }}</div>
                    <div class="month">{{ event.date.strftime('%b') }}</div>
                </div>
                <div class="event-info">
                    <h3>{{ event.title }}</h3>
                    <div class="event-location">
                        <i class="fas fa-map-marker-alt"></i> {{ event.location }}
                    </div>
                    <p>{{ event.description|striptags|truncate(100) }}</p>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="event-item">
                <div class="event-date">
                    <div class="day">25</div>
                    <div class="month">Jun</div>
                </div>
                <div class="event-info">
                    <h3>Parent-Teacher Meeting</h3>
                    <div class="event-location">
                        <i class="fas fa-map-marker-alt"></i> School Auditorium
                    </div>
                    <p>Discussing student progress and upcoming curriculum changes for the new academic year.</p>
                </div>
            </div>
            
            <div class="event-item">
                <div class="event-date">
                    <div class="day">30</div>
                    <div class="month">Jun</div>
                </div>
                <div class="event-info">
                    <h3>Annual School Exhibition</h3>
                    <div class="event-location">
                        <i class="fas fa-map-marker-alt"></i> School Campus
                    </div>
                    <p>Showcasing student projects, artworks, and achievements from the academic year.</p>
                </div>
            </div>
            
            <div class="event-item">
                <div class="event-date">
                    <div class="day">15</div>
                    <div class="month">Jul</div>
                </div>
                <div class="event-info">
                    <h3>Sports Day</h3>
                    <div class="event-location">
                        <i class="fas fa-map-marker-alt"></i> School Playground
                    </div>
                    <p>Annual sports competition featuring track and field events, team sports, and more.</p>
                </div>
            </div>
        {% endif %}
    </div>
    
    <div class="view-all">
        <a href="{{ url_for('events') }}">View All Events</a>
    </div>
</section>
{% endblock %}
